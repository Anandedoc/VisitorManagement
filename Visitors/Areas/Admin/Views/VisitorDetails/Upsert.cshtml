@using Data.Models.Enums
@using Visitors.ViewModel
@model VisitorDetailsVM

<form method="post">
    <input asp-for="VisitorDetails.Id" hidden />
    <div class="border p-3 mt-4">
        <div class="row pb-2">
            <h2 class="text-primary">@(Model.VisitorDetails.Id != 0 ? "Update" : "Create") Appointment</h2>
            <hr />

        </div>
        <div >
        <div class="mb-3" style="width: 50%">
            <label asp-for="VisitorDetails.Name"></label>
                <input asp-for="VisitorDetails.Name" class="form-control" disabled=@(!User.IsInRole(nameof(UserRoleTypeValues.User)))/>
            <span asp-validation-for="VisitorDetails.Name" class="text-danger"></span>

        </div>
            <div class="mb-3" style="width: 50%">
            <label asp-for="VisitorDetails.Email"></label>
                <input asp-for="VisitorDetails.Email" class="form-control" disabled=@(!User.IsInRole(nameof(UserRoleTypeValues.User))) />
                <span asp-validation-for="VisitorDetails.Email" class="text-danger"></span>

        </div>
            <div class="mb-3" style="width: 50%">
            <label asp-for="VisitorDetails.Phone"></label>
                <input asp-for="VisitorDetails.Phone" class="form-control" disabled=@(!User.IsInRole(nameof(UserRoleTypeValues.User)))  />
                <span asp-validation-for="VisitorDetails.Phone" class="text-danger"></span>
         </div>
         @*   <div class="mb-3" style="width: 50%">
                <label asp-for="VisitorDetails.ByVechicle"></label>
                <input asp-for="VisitorDetails.ByVechicle" class="form-control" disabled=@(!User.IsInRole(nameof(UserRoleTypeValues.Worker))) />
            <span asp-validation-for="VisitorDetails.ByVechicle" class="text-danger"></span>
        </div>*@
            <div class="mb-3" style="width: 50%">
                <label asp-for="VisitorDetails.Address"></label>
                <input asp-for="VisitorDetails.Address" class="form-control" disabled=@(!User.IsInRole(nameof(UserRoleTypeValues.User))) />
                <span asp-validation-for="VisitorDetails.Address" class="text-danger"></span>
        </div>
            <div class="mb-3" style="width: 50%">
                <label asp-for="VisitorDetails.Description"></label>
                <input asp-for="VisitorDetails.Description" class="form-control" disabled=@(!User.IsInRole(nameof(UserRoleTypeValues.User))) />
                <span asp-validation-for="VisitorDetails.Description" class="text-danger"></span>
        </div>
        <div class="mb-3" style="width: 50%">
                <label asp-for="VisitorDetails.Date"></label>
            @*<input type="text" id="datepicker">*@

                <input asp-for="VisitorDetails.Date" class="form-control" type="date" disabled=@(!User.IsInRole(nameof(UserRoleTypeValues.User))) />
                <span asp-validation-for="VisitorDetails.Date" class="text-danger"></span>
        </div>
            <div class="mb-3" style="width: 50%">
                <label asp-for="VisitorDetails.AppointMentTime"></label>
                <input asp-for="VisitorDetails.AppointMentTime" class="form-control" type="time" disabled=@(!User.IsInRole(nameof(UserRoleTypeValues.User)))/>
                <span asp-validation-for="VisitorDetails.AppointMentTime" class="text-danger"></span>
        </div>
        @if(User.IsInRole(nameof(UserRoleTypeValues.GateAdmin))){
                <div class="mb-3" style="width: 50%">
                    <label asp-for="VisitorDetails.InTime"></label>
                    <input asp-for="VisitorDetails.InTime" class="form-control" type="time" disabled=@((!string.IsNullOrEmpty(Model.VisitorDetails.InTime.ToString()))) />
                    <span asp-validation-for="VisitorDetails.InTime" class="text-danger"></span>
                </div>
            <div class="mb-3" style="width: 50%">
                <label asp-for="VisitorDetails.OutTime"></label>
                    <input asp-for="VisitorDetails.OutTime" class="form-control" type="time" disabled=@((!string.IsNullOrEmpty(Model.VisitorDetails.OutTime.ToString()))) />
                    <span asp-validation-for="VisitorDetails.OutTime" class="text-danger"></span>
        </div>
        }
       
           @if(User.IsInRole(nameof(UserRoleTypeValues.User))){
            @*    <div class="mb-3 col-6">
                    <label asp-for="VisitorDetails.ToUserId"></label>
                    <select asp-for="VisitorDetails.ToUserId" asp-items=@Model.UserList class="form-select">
                        <option disabled selected> --To Meet--</option>
                    </select>
                    <span asp-validation-for="VisitorDetails.ToUserId" class="text-danger"></span>

                </div>*@
                <div class="mb-3 col-6">
                    <label asp-for="VisitorDetails.VisitingStatus"></label>
                    <select asp-for="VisitorDetails.VisitingStatus" asp-items=@Model.VisitingStatusList class="form-select">
                        <option disabled selected> --To Status--</option>
                    </select>
                    <span asp-validation-for="VisitorDetails.VisitingStatus" class="text-danger"></span>

                </div>
           }
           
          @*  @if(Model.VisitorDetails.Id != 0){

          
            } *@

            <button type="submit" class="btn btn-primary" style="width:150px">@(Model.VisitorDetails.Id != 0 ? "Update" : "Create")</button>
        <a asp-area="Customer" asp-controller="home" asp-action="Index" class="btn btn-secondary" style="width:150px">BackToList</a>
    </div>
    </div>

</form>

@section Scripts{
        <partial name="_ValidationScriptsPartial" />
      

    }
